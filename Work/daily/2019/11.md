### 11 - 1

1. 完成 Agent 升级配置管理的列表查询相关接口

### /

### 11 - 4

1. 修改公司、机构的升级状态和升级时间接口

### 11 - 5

1. 机构列表的搜索接口参数调整
2. 获取升级包的基础信息列表接口

### 11 - 6

1. TODO 修改公司的系统类型的默认版本
2. TODO 更改了公司的系统类型的默认版本，是不是要推送到客户端呢？

### 11 - 7

1. 

### 11 - 8

1. 

### /

### 11 - 11

1. 版本库管理界面，查询和设为默认接口
2. 公司升级配置和机构升级配置的界面对接
3. 客户端获取升级包的接口（新增的资源映射目录无法映射）

### 11 - 12

1. 将升级包的目录都定位到 logo 目录下
2. 界面上的选择更新时间段的控件
3. 机构修改升级服务的状态和时间接口调整

### 11 - 13

1. 公司自定义版本库的界面和接口
2. 测试、修改客户端升级的页面和接口

### 11 - 14

1. 完善客户端获取升级包的接口（获取升级包和状态时间判定）
2. 修改公司升级时间段的校验客户端的时间段方式（前：获取在升级时间段的机构）
3. 
4. 清理数据后重新测试EIS功能正确性
5. 新增删除安全策略后的相关数据清理

### 11 - 15

1. 资产报表的获取系统类型、版本分布、终端资产接口的编写

### 11 - 17

1. 统计每天的上报漏洞数量（aggs： DateHistogram Histogram ValueCount）
2. 各个系统的top20漏洞

### /

### 11 - 18

1. 机构树新增 editable 字段，修改为包装类型

2. 删除前端代码且不纳入管理

3. 确定EIS机构树报错原因（安全策略删除了，公司未清理）、全网文件详情报错（clientUploadInfo 有误）

4. 计数返回白文件有4个，但是实际查询只有2个（用户自定义加上系统定义的数量，用户自定义的白文件未清理）

5. 全网文件详情机构获取机构信息错误（数据错误，客户端所在的公司和 clientUploadInfo.companyId 不一致）

6. 返回的值中包含 html 代码会进行转义：自定义继承 ~~GsonHttpMessageConverter.setGson(GSON.disableHtmlEscaping());~~

   设置此值会导致 swagger 接口放回的 json 序列化错误，无法访问界面

7. 删除客户端最后更新时间的定时删除功能

8. 每天定时统计今天的各个公司、系统类型、机构的在线客户端情况

### 11 - 19

1. 将每天的统计在线结果新增到数据库
2. 报表获取每天的在线数统计接口（如果包含当天怎么办呢.）和各个系统的在线数量
3. 补充各个接口的全量数据（所有系统类型，所有天数）

### 11 - 20

1. swagger 界面不能访问： jackson 不能正确序列化（手动指定了 new GsonBuilder）

   不手动创建 Gson 的话，返回的 html 会转义

2. BUG：上传记录中包含 companyId 但是如果当前客户端不在此公司下了（为什么还能跨公司呢..）

   导致上传详情中无法获取所在的机构信息

3. 修改报表接口，人为补全无数据的日期、系统计数、版本计数等

### 11 - 21

1. 修复 gson 序列化会转义 html 的问题（接口默认使用 jackson 转换 json）
2. 修改 ROBIN 查询已扫描文件是否被所有在线引擎扫描

### 11 - 22

1. 删除用户前端设定的切换ip/mac显示的字段
2. 修改ROBIN扫描统计数量
3. 修改全网文件详情的所属机构加载方式
4. 删除机构后删除机构与客户端的关系时，将所有客户端的缓存删除（缓存管理的问题？）

### /

### 11 - 25

1. BUG：
   1. 导入文件计数错误（sum未计数）
   2. 搜索和默认策略的关系（指定关键字）
   3. 定位显示等级错误（传数据错误）
   4. ROBIN 与 argus 的关系（新增数据时修改）
2. 测试邮件连接的超时时间 connectiontimeout （要是 intger 类型的呀）
3. 为什么随便指定个端口都是连接正确的：非数字接口，使用了默认的端口

### 11 - 26

1. BUG：
   1. 【邮件告警】未设置的公司获取信息错误（未设置无数据）
   2. 【资产列表】获取离线列表错误（sql 中指定的属性错误）
   3. 【机构管理】机构名称不允许包含键盘特殊字符（用正则）
2. 阅读 dataserver 的相关代码
3. 修改机构路径的根节点的显示问题

### 11 - 27

1. BUG：

   1. 报表筛选未进行机构筛选（根据机构的客户端）

2. 报表选择超过当前时间的在线统计方式

   修改需求：要以时间段内的上线过的终端数量做统计（做不到）

   影响：每天的在线数量也需要重新统计

### 11 - 28

1. BUG：
   1. 新增安全策略顺序错误（返回接口的系统顺序）
   2. 机构树显示安全策略名称则不显示已卸载分组
   3. 默认安全策略的统计计数中不包含已卸载分组的数量
   4. 全网文件列表详情中的机构路径多显示了一层的问题
2. 

### 11 - 29

1. BUG：
   1. 修复邮件告警设置的无法保存的问题
   2. 首页 argus 数量统计
   3. 运维中心创建用户密码的提示
   4. 修改主机页面的别名有限
   5. 安全策略的机构数默认选中根节点
   6. 修改威胁页面的根据系统筛选错误的问题

### 