### 4 - 1

1. 不使用 poller 也会收不到心跳消息
2. 修改 zmq 版本为 0.4.3 估计也不行...

### /

### 4 - 7

1. 修改文件的清理方式为扫描完成后直接清理
2. 修改任务发布方式，无在线引擎时加入到无引擎任务列表
3. 在心跳中新增无引擎任务列表检测和清理的功能
4. 修改项目启动的清理任务方式

### 4 - 8

1. TODO：心跳一上来就会被发布，那么只有一个节点扫描
2. \#6588 首页 EIS 统计错误
3. 排查测试中出现的相关问题，邮件发送不成功，密码一致错误提示、修改邮件模板等
4. 模拟引擎心跳掉线的情况
   1. 新上来的文件能否被正确的加入到待扫描队列，之后能否正确扫描
   2. 引擎掉线后清理相关任务失败 1.没有一个引擎结果加入待扫描（之前为清理） 2.扫描结果比结算任务多，先修改状态
   3. 心跳停止一段时间，重启后之前的文件是否能被正确扫描
   4. 在扫描目录下的文件是否能被重新扫描
5. 合并CRBC到开发主线并合并到edr-ftp上

### 4 - 9

1. 整理 edr sql 修改初始化数据、修改edr同步robin的账号设置
2. 邮件没法送的问题.没有告警上来.告警上报失败
3. 新增默认edr账号信息不能被修改
4. 修复clientId修改为 int 后，数据合并配置无法正确使用的问题
5. 优化结算任务时更新任务的sql优化
6. 优化插入速度：innodb_flush_log_at_trx_commit = 0 [answer](<https://dba.stackexchange.com/questions/65753/slow-insert-update-on-innodb>)

### /

### 4 - 13

1. 优化心跳的维护客户端下的引擎关系相关查询方法，避免调用多次
2. 测试修改 druid 的相关配置能否优化插入过慢的问题
3. 优化新增任务的相关 sql 
4. 修复滚动索引不能通过 id 查询导致的页面加载错误

### 4 - 14

### 4 - 15

### 4 - 16

1. 修复告警合并配置列表中修改某配置后回到列表页数据展示不完整的问题
2. 修改 innodb_pool_buff_size 为4G，但是数量还是一个咋修改呢
3. 修改后更新数据时间较长基本消失，但 file task result 都要 MyISAM 不然插入效率太低
4. 测试 2000 个文件扫描，扫描正常 slow insert 30/18000 左右

### 4 - 17

1. 获取系统变量的 select @@innodb_buffer_pool_size 在 my.cnf 中配置 innodb_buffer_pool_instances=4
2. 修改配置改成 InnoDB 也存在很多慢插入，MyISAM 是可以并发插入的
3. 只测试插入数据，MyISAM的插入速度明显快于InnoDB。无负载还是存在插入过慢的问题。所以可能是机制的问题么
4. 修改当前ROBIN为任务完成后批量插入扫描结果，减少插入数据的次数。现很少出现插入较慢的问题

### /

### 4 - 20

1. 新增全局的 loginLogo 字段，并在运维中心维护
2. 测试 5000 个文件，扫描完成

### 4 - 21

1. 测试 5000 个文件上传呢

### 4 - 22

1. 3.27 服务器上的日志错误，任务所有引擎都返回结果了但是没被结算？
2. 节点运行中的状态还是被清理掉了，修改

### 4 - 23

1. 上传了很多任务，定时清理都只清理了一个.. 用错了 break;
2. 节点关闭了，但是任务未结算呢（本来就有引擎没完成）
3. 优化扫描结果的队列数据减少重复数据

### 4 - 24

1. 关掉 bitdefender 测试后扫描速度明显变快，所以部署较多引擎时需要考虑各引擎的搭配
2. 在部署超过 10 个引擎的时候经常出现引擎卡死的问题（收不到消息）。需要客户端优化

### /

### 4 - 26

1. 3.6 升级： 
   1. mysql 数据转移到 4.0 数据库
   2. JAVA 连接的 ES 版本要更新到 6.2（那不是3.6的数据要写到4.0的ES？）
   3. 