当一个索引的数据量过大的时候，利用之前的别名的特性（可以将几个索引设置为一个别名），然后这几个索引搜索都通过别名来搜索

#### 滚动索引

```json
// 创建索引
PUT /index-000001
{
    "aliases": {
        "index_alias": {}
    }
}

// 发送滚动请求（必须满足其中一个条件才滚动）
PUT /index_alias/_rollover
{
    "conditions":{
        "max_age": "7d",
        "max_docs": 1,
        "max_size": "1gb"
    },
    // 可指定新索引的相关设置
    "setting": {
        "index.number_of_shards": 2
    }
}

// 滚动会自动在原索引名的基础上加数字
// 滚动完成索引名： index-000002
```

#### 滚动指定索引名

```json
PUT /index_alias/_rollover/new_index_name
```

#### 尝试滚动（检查是否符合滚动）

```json
PUT /index_alias/_rollover?dry_run
```

#### 写索引的别名

```json
// 如果别名引用了多个索引，且未指定写索引。则不允许写操作..(因为不知道往哪个索引写)
PUT /index-000001
{
    "aliases": {
        "index_alias": {
            "is_write_index": true
        }
    }
}

// 设置了之后，会通过最新这个索引写入
// 在滚动之后：最新的索引为写索引，之前的索引非写索引
```



