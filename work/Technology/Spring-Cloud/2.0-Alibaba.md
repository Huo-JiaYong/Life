## Spring Cloud 2.0 - power by Alibaba

### Nacos

动态服务发现、配置、动态 DNS 等一体的软件

Spring Boot：2.3.12.RELEASE 

Spring Cloud：Hoxton.SR12

Spring Cloud Alibaba：2.2.7.RELEASE

#### 注册中心

1. 直接下载 nacos-windows.zip 解压
2. 使用命令 /bin/startup.cmd -m standalone 启动 nacos 服务（普通模式需要配置数据库）
3. 使用 IP:8848 访问页面，账号：nacos nacos

#### 提供者

1. 引入 spring-cloud-starter-alibaba-nacos-discovery 包
2. 配置 spring.cloud.nacos.discovery.server-addr: 10.11.200.54:8848 和 spring.application.name 指定服务的名称
3. 使用 @EnableDiscoveryClient 注解，打开服务发现功能
4. 启动后可以在 nacos 看到指定的服务

#### 消费者

1. 前三步，同上
2. 使用 RestTemplate.getForObject("http://{服务名称}/URI", RESPONSE.class) 即可调用远程服务

#### 配置方

1. 再引入 spring-cloud-starter-alibaba-nacos-config 包
2. 新增 bootstrap.yml 配置文件（用以基础配置 spring.application.name nacos 等）
3. 新增 application.yaml 指定配置文件等级 spring.profiles.active: dev
4. 在 nacos 上新增 {name}-dev.yaml 配置文件，并填入配置
5. 直接使用 @Value("${xxx}") 即可引用配置项，并会自动更新
