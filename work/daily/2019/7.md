### 7 - 1

1. 
2. 

### 7 - 2

1. EDR 3.7 项目架构会
2. 终端数据合并设置项的服务器端接口和页面

### 7 - 3

1. 修改es滚动索引时未配置mapping的情况
2. 修改客户端数据合并设置页面的新增逻辑

### 7 - 4

1. 完成数据合并页面的修改功能和页面操作逻辑的优化
2. 

### 7 - 5

1. 修复节点在配置引擎时心跳检测失败的问题

### / 

### 7 - 8

1. ROBIN WS 未返回数据的问题，应该不是长时间不动导致的 websocket 断掉（tcp 长连接）

   应该是最开始进入页面的时候就连接失败，或者是中间断连了

2. 客户端收到两次任务 - 实际是日志打印错误

3. 数据合并 - 新增 - 一进来后如何展示

### 7 - 9

1. 修复滚动索引的自定义数据结构不正确的问题
2. 新增滚动指定索引的测试接口
3. 完成数据合并配置项的搜索功能
4. 字段的语义化

### 7 - 10 

1. 新增配置级别字段，方便进行管理（搜索某个组的数据会有组的配置和终端的配置）
2. 修改是否重复配置的判定（是否需要直接修改？）

### 7 - 11

1. 新增【实时操作日志】界面为所有操作OEM的日志记录
2. 删除【邮件告警】中的事件类型的判定机制和相关配置
3. 【OEM】标题和名称不允许特殊字符

### 7 - 12

### /

### 7 - 15

1. 修复【OEM】不允许特殊字符的正则表达式
2. 修改配置时，根据级别删除缓存

### 7 - 16

1. 删除配置时，根据级别进行缓存的删除
2. 调整新增页面的选择逻辑，一开始初始化。修改公司后清理掉之前加载的客户端信息

### 7 - 17

1. 新增 APIKey 的全局缓存和配置接口的校验

2. 新增进程白名单的功能

3. 需要改进页面的交互（数据结构应该是问题不大）

   列表：要获取出配置过的客户端、组、公司和默认的全局

   新增：是否需要加载出全局配置（当前的选择的级别的所有配置。**作为参考**） / ~~不加载（怎么做参考呢）~~

   ​	 根据配置的项是否被修改来新增配置 / ~~不加载的话 就可以直接确定哪些修改了~~

   获取：查询出自己级别的所有配置（并且加载上级配置的配置作为参考）

   修改：加载出选择的这个级别的配置 （加载出上级配置，**作为参考**）/ ~~所有配置~~

   ​	 如何判定修改了呢？直接将当前级别的配置全量传入..有的修改 莫得新增

   删除：删除选择的这个级别的所有配置项

### 7 - 18

1. 讨论是否修改配置项的数据表结构
   1. 修改 -> 将 level 信息拆分表，更好进行本级的搜索（必须分次查询出公司、组、客户端配置）
   2. 不修改 -> 直接搜索客户端、所在组、所在公司的配置（数据有冗余，列表分组更麻烦）
2. 优化获取客户端、所在组、所在公司的所有配置的方式（按照组、客户端排序就可以将返回的配置有序化）
3. 修改客户端配置列表的展示

### 7 - 19

1. 修改新增页面的布局
2. 新增自定义配置项的功能

### /

### 7 - 22

1. 自定义配置项的结构适配，就是把配置项的字段新增到查询中

2. 修改全局配置的缓存方式为数组（有序），当前不需要通过键值对的方式存储

   并且获取全局配置的情况下，有序更好（但是好像也没啥用处啊~）

   **所以全局配置到底按照什么来存储呢**

### 7 - 23

1. 修改请求参数的格式，数组无法接收。修改新增的逻辑和删除缓存的逻辑
2. 配置项的自定义校验和错误提示呢
3. 修改所有公司的apiKey的缓存方式
4. 新增客户端和所在公司是否匹配校验

### 7 - 24

1. 修复【实施日志】中的用户操作、按时间搜索功能
2. 编写正则表达式
3. 新增分隔符配置，如果存在多个值的情况指定分隔符的类型（不能自定义分隔符啊..不然客户端怎么拆分呢）
4. 新增配置时可指定配置的默认值（如果无默认值的话，在页面上无法展示。需要手动添加到数据库）

### 7 - 25

1. 修改配置项的时候同时更新默认配置的值
2. 删除配置项时，将所有的此配置项的配置都删除（会导致查询出来的配置项无配置名称，json 序列化错误）
3. 修改 order 的类型，尽量都是用包装类（默认类型会有初始值~）
4. 不允许自定义分隔符，默认以逗号分隔。只设定是否使用分隔符（自定义分隔符后客户端拆分更加麻烦）
5. 优化表格字段显示

### 7 - 26

1. 新增【投递超过频率限制的事件】的查询页面和搜索功能
2. 修改【是否已配置】的校验方式（每次都查询不好）

### /

### 7 - 29

1. 超过频率事件投递查询页面失败.. 重新编辑一般后正常查询
2. 修改【数据合并】的文档内容
3. 完成【Agent配置升级】功能的改版
   1. 新增公司页面
   2. 新增根据公司查询配置参数

### 7 - 30

1. 优化界面展示
   1. 开启、关闭服务图标
   2. 是否开启展示更明显，设置字体颜色
   3. 机构的结构要更有层次，按照id排序
   4. 修改机构的名称显示结构为：/ 父机构 / 子机构
2. 移植客户端获取【数据合并配置】的相关接口和方法
3. 客户端获取更新文件，新增公司【开启升级服务】检测

### 7 - 31

1. 修复获取全局配置时，级别提示错误
2. 修改返回值类型，避免多次类型转换
3. 部署到服务器出错呢..还是整包替换吧
4. 现在的配置无法单项删除了啊
